(this["webpackJsonpgame-gallery-app"]=this["webpackJsonpgame-gallery-app"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c.n(n),a=c(27),r=c.n(a),i=(c(39),c(40),c(34)),l=c(7),o=c(6),j=c(2),u=c.n(j),d=c(5),b=c(4),O=(c(42),c(33)),p=Object(O.a)("https://mlrgblouczagbxdupdkp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjk5ODg2OSwiZXhwIjoxOTQ4NTc0ODY5fQ.1vL5_Pa8YUX-b1MFCPFdmbkDs6wco8xZOYB54XKHT4E"),h=c(1),m=s.a.createContext();function x(){return Object(n.useContext)(m)}var v=function(e){var t=e.children,c=Object(n.useState)(),s=Object(b.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!0),l=Object(b.a)(i,2),o=l[0],j=l[1];Object(n.useEffect)((function(){var e,t=p.auth.session();r(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null),j(!1);var c=p.auth.onAuthStateChange(function(){var e=Object(d.a)(u.a.mark((function e(t,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(null!==(n=null===c||void 0===c?void 0:c.user)&&void 0!==n?n:null),j(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),n=c.data;return function(){null===n||void 0===n||n.unsubscribe()}}),[]);var O={signUp:function(e){return p.auth.signUp(e)},signIn:function(e){return p.auth.signIn(e)},signOut:function(){return p.auth.signOut()},user:a};return Object(h.jsx)(m.Provider,{value:O,children:!o&&t})},f=c(16);var g=function(e){return Object(h.jsxs)("button",{disabled:e.disabled,onClick:e.onClick,id:e.id,type:e.type,className:e.className,children:[e.value,e.icon]})},N=c.p+"static/media/GGA Logo.e8635831.svg";var y=function(){var e=x(),t=e.user,c=e.signOut,s=Object(n.useState)(!1),a=Object(b.a)(s,2),r=a[0],i=a[1],j=Object(n.useState)(),O=Object(b.a)(j,2),p=O[0],m=O[1],v=Object(n.useState)(!0),y=Object(b.a)(v,2),w=y[0],k=y[1],C=Object(o.f)(),S={color:"white",width:"40",height:"40"};function I(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:C.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.push("/login");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!w);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){i(!!t)}),[t,p]),Object(h.jsxs)("div",{className:"navigation",children:[Object(h.jsx)("div",{className:"logo",children:Object(h.jsx)(l.b,{onClick:z,id:"logo",to:"/",children:Object(h.jsx)("img",{src:N,alt:"Back to homepage"})})}),Object(h.jsx)("div",{className:"web-nav",children:Object(h.jsxs)("div",{className:"nav-links",children:[[{id:0,title:"Games",url:"/games"},{id:1,title:"Discussions",url:"/discussions"},{id:2,title:"Upload",url:"/upload"}].map((function(e){return Object(h.jsxs)("div",{className:"nav-item",children:[Object(h.jsx)(l.b,{onClick:function(){z(e.id)},id:p===e.id?"option-active":"option",to:"".concat(e.url),children:e.title}),Object(h.jsx)("div",{className:p===e.id?"active":null})]},e.id)})),r?Object(h.jsx)("div",{className:"nav-item",children:Object(h.jsx)(l.b,{onClick:z,id:"option",to:"/dashboard",children:"Account"})}):null]})}),r?Object(h.jsx)("div",{className:"btn-container",children:Object(h.jsx)(g,{id:"logout-btn",onClick:function(){I(),z()},value:"Log out"})}):Object(h.jsx)("div",{className:"btn-container",children:Object(h.jsx)(g,{id:"login-btn",onClick:function(){!function(){L.apply(this,arguments)}(),z()},value:"Log in"})}),Object(h.jsx)("div",{className:"mobile-nav",children:Object(h.jsx)("div",{className:"hamburger-menu",onClick:function(){return U.apply(this,arguments)},children:w?Object(h.jsx)(f.c,{style:S}):Object(h.jsx)(f.a,{style:S})})}),Object(h.jsx)("div",{className:w?"nav-menu":"nav-menu active",children:r?Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/games",children:"Games"}),Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/discussions",children:"Discussions"}),Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/upload",children:"Upload"}),Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/dashboard",children:"Account"}),Object(h.jsx)(l.b,{onClick:function(){I(),P()},id:"logout-btn-m",to:"/login",children:"Log out"})]}):Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/games",children:"Games"}),Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/discussions",children:"Discussions"}),Object(h.jsx)(l.b,{onClick:P,id:"m-option",to:"/register",children:"Sign up"}),Object(h.jsx)(l.b,{onClick:P,id:"login-btn-m",to:"/login",children:"Log in"})]})})]})},w=(c(52),c.p+"static/media/bgImage.99dc8eaf.jpg"),k=c(31);var C=function(){var e=Object(o.f)(),t=x().user,c=Object(n.useState)(!1),s=Object(b.a)(c,2),a=s[0],r=s[1];function i(){return(i=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/register");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){r(!!t)}),[t]),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsxs)("div",{className:"welcome-message-m",children:[Object(h.jsx)("h1",{children:"Game Gallery"}),Object(h.jsx)("span",{children:"If you are a game-dev enthusiast, this is the place for you to promote your games!"})]}),Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("div",{className:"content-container",children:[Object(h.jsxs)("div",{className:"welcome-message",children:[Object(h.jsx)("h1",{children:"Game Gallery"}),Object(h.jsx)("span",{children:"If you are a game-dev enthusiast, this is the place for you to promote your games!"})]}),Object(h.jsx)("div",{className:"top-highlight"}),Object(h.jsx)("div",{className:"bottom-highlight"})]})}),Object(h.jsxs)("div",{className:"image-wrapper",children:[Object(h.jsx)("img",{src:w,alt:""}),a?null:Object(h.jsx)(g,{onClick:function(){return i.apply(this,arguments)},id:"sign-up",value:"Sign up",icon:Object(h.jsx)(k.a,{size:"20"})})]})]})},S=(c(25),Object(n.forwardRef)((function(e,t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"input-container",children:[e.value?Object(h.jsx)("label",{children:e.value}):null,Object(h.jsx)("input",{style:e.style,className:e.className,placeholder:e.placeholder,ref:t,type:e.type,onChange:e.onChange,accept:e.accept,required:!0}),e.icon?Object(h.jsx)("span",{onClick:e.onClick,className:"toggle-visible",children:e.icon}):null,e.validationCheckIcon?Object(h.jsx)("span",{className:"validation-check",children:e.validationCheckIcon}):null]})})})));var I=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(b.a)(a,2),i=r[0],j=r[1],O=Object(n.createRef)(),p=Object(n.createRef)(),m=x().signIn,v=Object(o.f)();function f(){return f=Object(d.a)(u.a.mark((function e(t){var c,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c=O.current.value,n=p.current.value,s(!0),j(""),e.next=7,m({email:c,password:n});case 7:a=e.sent,(r=a.error)?j(r.message):v.push("/"),s(!1);case 11:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(h.jsx)("div",{className:"login-page",children:Object(h.jsxs)("div",{className:"login-container",children:[Object(h.jsx)("div",{id:"heading",children:"Log in"}),Object(h.jsx)("div",{className:i?"error":null,children:i}),Object(h.jsxs)("form",{className:"login-form",onSubmit:function(e){return f.apply(this,arguments)},children:[Object(h.jsx)(S,{className:"email",type:"email",placeholder:"Email",ref:O}),Object(h.jsx)(S,{className:"password",type:"password",placeholder:"Password",ref:p}),Object(h.jsx)(g,{id:"auth-button",disabled:c,type:"submit",value:c?Object(h.jsx)("span",{children:"Loading..."}):Object(h.jsx)("span",{children:"Log in"})}),Object(h.jsx)(l.b,{to:"/register",id:"reg-redirect",children:"Don't have an account? Register here."})]})]})})},R=c(12),L=c(17);var U=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(b.a)(a,2),i=r[0],j=r[1],O=Object(n.useState)(),p=Object(b.a)(O,2),m=p[0],v=p[1],f=Object(n.useState)([]),N=Object(b.a)(f,2),y=N[0],w=N[1],k=Object(n.useState)(),C=Object(b.a)(k,2),I=C[0],U=C[1],P=Object(n.useState)(),D=Object(b.a)(P,2),z=D[0],F=D[1],G=Object(n.useState)(),T=Object(b.a)(G,2),_=T[0],E=T[1],M=Object(n.useRef)(),q=Object(n.useRef)(),A=Object(n.useRef)(),J=Object(o.f)(),B=x().signUp,Y=0,X=[];function $(){F(!z)}function Z(){E(!_)}function Q(){return q.current.value===A.current.value}function W(){return s(""),U(M.current.value),!1!==/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(I)}function H(){return(H=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=q.current.value,X=[t.length>=8,t.search(/[A-Z]/)>-1,t.search(/[0-9]/)>-1,t.search(/[!%$&+,:;=?@#]/)>-1],Y=X.reduce((function(e,t){return e+t})),v(Y),w(X);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function e(t){var c,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=M.current.value,n=q.current.value,A.current.value,j(!0),s(""),W(),Q()){e.next=10;break}return j(!1),e.abrupt("return",s("Passwords do not match."));case 10:if(W()){e.next=13;break}return j(!1),e.abrupt("return",s("Invalid email."));case 13:if(!(m<4)){e.next=17;break}s("Password does not meet the requirements."),e.next=22;break;case 17:return e.next=19,B({email:c,password:n});case 19:a=e.sent,a.data,J.push("/");case 22:j(!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)("div",{className:"register-page",children:Object(h.jsxs)("div",{className:"register-container",children:[Object(h.jsx)("div",{id:"heading",children:"Create an account"}),Object(h.jsxs)("form",{className:"register-form",onSubmit:function(e){return K.apply(this,arguments)},children:[Object(h.jsx)("div",{className:"error",children:c}),Object(h.jsx)(S,{type:"email",className:"email",placeholder:"Email",ref:M,required:!0}),Object(h.jsx)(S,{type:z?"text":"password",className:"password",placeholder:"Password",ref:q,onChange:function(){return H.apply(this,arguments)},icon:z?Object(h.jsx)(L.a,{color:"008eda",onClick:$}):Object(h.jsx)(L.b,{color:"008eda",onClick:$}),required:!0}),Object(h.jsx)(S,{type:_?"text":"password",className:"password",placeholder:"Confirm password",ref:A,icon:_?Object(h.jsx)(L.a,{color:"008eda",onClick:Z}):Object(h.jsx)(L.b,{color:"008eda",onClick:Z}),required:!0}),Object(h.jsxs)("div",{className:"validations",children:[Object(h.jsxs)("div",{children:[y[0]?Object(h.jsx)(R.a,{size:"20",color:"green"}):Object(h.jsx)(R.b,{size:"20",color:"red"}),Object(h.jsx)("span",{children:"Password must be at least 8 characters."})]}),Object(h.jsxs)("div",{children:[y[1]?Object(h.jsx)(R.a,{size:"20",color:"green"}):Object(h.jsx)(R.b,{size:"20",color:"red"}),Object(h.jsx)("span",{children:"Password must have at least one uppercase letter."})]}),Object(h.jsxs)("div",{children:[y[2]?Object(h.jsx)(R.a,{size:"20",color:"green"}):Object(h.jsx)(R.b,{size:"20",color:"red"}),Object(h.jsx)("span",{children:"Password must have at least one number."})]}),Object(h.jsxs)("div",{children:[y[3]?Object(h.jsx)(R.a,{size:"20",color:"green"}):Object(h.jsx)(R.b,{size:"20",color:"red"}),Object(h.jsx)("span",{children:"Password must have at least one special character."})]})]}),Object(h.jsx)(g,{id:"auth-button",disabled:i,type:"submit",value:i?Object(h.jsx)("span",{children:"Loading..."}):Object(h.jsx)("span",{children:"Sign in"})}),Object(h.jsx)(l.b,{to:"/login",id:"reg-redirect",children:"Already have an account? Log in."})]})]})})};c(53);var P=function(e){return Object(h.jsx)("div",{className:"card",onClick:e.onClick,children:Object(h.jsxs)("div",{className:"card-info",children:[Object(h.jsx)("h3",{id:"card-title",children:e.title}),Object(h.jsx)("small",{id:"card-description",children:e.description}),Object(h.jsx)("p",{id:"card-item-price",children:e.price}),Object(h.jsx)("p",{id:"card-item-developer",children:e.developer}),Object(h.jsx)("img",{src:"".concat(e.URL),alt:""})]})})},D=(c(54),c(32)),z=function(e){var t=e.openModal,c=e.setOpenModal;return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)("div",{className:"card-modal",children:Object(h.jsx)("div",{className:"window",children:Object(h.jsxs)("div",{className:"window-content",children:[Object(h.jsx)("div",{className:"close-modal",children:Object(h.jsx)("button",{className:"close",onClick:function(){c(!1)},children:Object(h.jsx)(D.a,{style:{color:"whitesmoke",width:"30",height:"30"}})})}),Object(h.jsx)("div",{className:"image-container",children:Object(h.jsx)("img",{src:e.imageURL,alt:"s"})}),Object(h.jsxs)("div",{className:"card-info-container",children:[Object(h.jsx)("h2",{className:"title",children:e.title}),Object(h.jsx)("p",{className:"description",children:e.desc}),Object(h.jsx)("p",{className:"price",children:e.price}),Object(h.jsx)("p",{className:"developer",children:e.dev})]}),Object(h.jsx)("div",{className:"button",children:Object(h.jsx)(g,{id:"buy-btn",value:"Buy"})})]})})}):null})};c(55);var F=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(!1),j=Object(b.a)(o,2),O=j[0],m=j[1],x=Object(n.useState)(!1),v=Object(b.a)(x,2),g=v[0],N=v[1],y=Object(n.useState)(),w=Object(b.a)(y,2),k=w[0],C=w[1],S=Object(n.useState)(),I=Object(b.a)(S,2),R=I[0],L=I[1],U=Object(n.useState)(),D=Object(b.a)(U,2),F=D[0],G=D[1],T=Object(n.useState)(),_=Object(b.a)(T,2),E=_[0],M=_[1],q=Object(n.useState)(),A=Object(b.a)(q,2),J=A[0],B=A[1],Y=[],X=[],$=[],Z=[],Q=[],W=[],H=Object(n.useCallback)((function(){N(!0)}),[]),K=function(e){C(e)},V=function(e){L(e)},ee=function(e){G(e)},te=function(e){M(e)},ce=function(e){B(e)};function ne(){return(ne=Object(d.a)(u.a.mark((function e(){var t,c,n,a,r,i,o,j,d,b,O,x,v,f,g,N,y,w,k,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,p.from("games").select();case 3:return t=e.sent,c=t.data,e.next=7,p.from("games").select("title");case 7:return n=e.sent,a=n.data,e.next=11,p.from("games").select("description");case 11:return r=e.sent,i=r.data,e.next=15,p.from("games").select("price");case 15:return o=e.sent,j=o.data,e.next=19,p.from("games").select("image_url");case 19:return d=e.sent,b=d.data,e.next=23,p.from("games").select("developer");case 23:if(O=e.sent,x=O.data,0===c.length)m(!1),l("Sorry... There aren't any games yet.");else{for(v=0;v<c.length;v++)f=Y[v],Y.push(f);for(g in a)X.push(a[g]);for(N in i)$.push(i[N]);for(y in j)Z.push(j[y]);for(w in x)Q.push(x[w]);for(k in b)W.push(b[k]);C=Y.map((function(e,t){return Object(h.jsx)(P,{URL:W[t].image_url,title:X[t].title,description:$[t].description,price:"".concat(Z[t].price,"$"),developer:Q[t].developer,onClick:function(){H(),K(X[t].title),V($[t].description),ee("".concat(Z[t].price,"$")),ce(Q[t].developer),te(W[t].image_url)}},t)})),s(C),m(!1)}case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){c||function(){ne.apply(this,arguments)}()}),[k]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(z,{title:k,desc:R,price:F,imageURL:E,dev:J,openModal:g,setOpenModal:N}),Object(h.jsx)("div",{className:"game-display-page",children:O?Object(h.jsx)("div",{className:"loader-container",children:Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(f.b,{style:{color:"007fc4",width:"50",height:"50"}})})}):Object(h.jsx)("div",{className:i?"content-error":"content-page",children:i||c})})]})};c(26);var G=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1],o=Object(n.useRef)(),j=Object(n.useRef)(),O=Object(n.useRef)(),m=Object(n.useRef)(),v=x().user;function f(){return f=Object(d.a)(u.a.mark((function e(){var t,c,n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.current.value,c=j.current.value,n=O.current.value,a=m.current.value,s(""),l(""),e.next=8,p.from("profiles").upsert({id:null===v||void 0===v?void 0:v.id,username:t,first_name:c,last_name:n,website:a});case 8:r=e.sent,(i=r.error)?(l(""),s(i.message)):(s(""),l("Changes saved successfully."),o.current.value="",j.current.value="",O.current.value="",m.current.value="");case 11:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}return Object(h.jsxs)("div",{className:"dashboard-content",children:[Object(h.jsxs)("div",{className:"notification-handling",children:[Object(h.jsx)("div",{className:i?"success":null,children:i}),Object(h.jsx)("div",{className:c?"error":null,children:c})]}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("label",{children:"General"})}),Object(h.jsxs)("div",{className:"sub-header",children:[Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{type:"text",id:"username",ref:o})]}),Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"First name"}),Object(h.jsx)("input",{type:"text",id:"fname",ref:j})]}),Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"Last name"}),Object(h.jsx)("input",{type:"text",id:"lname",ref:O})]}),Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"Website"}),Object(h.jsx)("input",{type:"text",id:"website",ref:m})]})]})]}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"header",children:Object(h.jsx)("label",{children:"Security"})}),Object(h.jsxs)("div",{className:"sub-header",children:[Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",id:"password"})]}),Object(h.jsxs)("div",{className:"sub-header-content",children:[Object(h.jsx)("label",{children:"Confirm new password"}),Object(h.jsx)("input",{type:"password",id:"c-password"})]})]})]}),Object(h.jsx)("div",{className:"button-container",children:Object(h.jsx)(g,{onClick:function(){return f.apply(this,arguments)},id:"save-btn",value:"Save"})})]})};var T=function(){return Object(h.jsxs)("div",{className:"account-page",children:[Object(h.jsxs)("div",{className:"profile-container",children:[Object(h.jsx)("div",{className:"avatar-container",children:Object(h.jsx)("div",{className:"avatar"})}),Object(h.jsx)("div",{className:"user-info",children:Object(h.jsx)("div",{className:"names",children:Object(h.jsx)("p",{children:"Test Test"})})})]}),Object(h.jsx)(G,{})]})},_=(c(56),Object(n.forwardRef)((function(e,t){return Object(h.jsxs)("div",{className:"input-container",children:[e.value?Object(h.jsx)("label",{children:e.value}):null,Object(h.jsx)("textarea",{onChange:e.onChange,placeholder:e.placeholder,ref:t,required:!0}),e.validationCheckIcon?Object(h.jsx)("span",{className:"validation-check",children:e.validationCheckIcon}):null]})}))),E=c.p+"static/media/Upload_Instructions.2b83e67c.svg";var M=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(!1),j=Object(b.a)(o,2),O=j[0],m=j[1],v=Object(n.useState)(),f=Object(b.a)(v,2),N=f[0],y=f[1],w=Object(n.useRef)(),k=Object(n.useRef)(),C=Object(n.useRef)(),I=Object(n.useRef)(),R=Object(n.useRef)(),L=x().user,U={url:""};function P(){return(P=Object(d.a)(u.a.mark((function e(t){var c,n,a,r,i,o,j,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=w.current.value,n=k.current.value,a=C.current.value,r=I.current.value,i=R.current.value,t.preventDefault(),s(""),l(""),m(!0),""===c||""===n||""===a||""===r||""===i){e.next=27;break}if(0!==c.indexOf(" ")&&0!==n.indexOf(" ")&&0!==a.indexOf(" ")&&0!==r.indexOf(" ")){e.next=14;break}s("Fields cannot start with a whitespace"),e.next=25;break;case 14:return e.next=16,p.storage.from("card-images").upload("images/".concat(N.name),N);case 16:return o=e.sent,o.data,j=p.storage.from("card-images").getPublicUrl("images/".concat(N.name)),d=j.publicURL,U.url=d,e.next=22,p.from("games").upsert({uploaded_by:null===L||void 0===L?void 0:L.id,image_url:U.url,title:c,description:n,price:a,developer:r});case 22:b=e.sent,b.error?(l(""),s("The price field cannot be empty or contain special symbols or letters!"),m(!1)):(w.current.value="",k.current.value="",C.current.value="",I.current.value="",R.current.value="",s(""),l("Game was uploaded successfully!"),m(!1));case 25:e.next=30;break;case 27:l(""),s("Please fill out all the fields."),m(!1);case 30:m(!1);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)("div",{className:"page",children:[Object(h.jsx)("div",{className:"upload-container",children:Object(h.jsxs)("form",{className:"upload-form",children:[Object(h.jsx)("div",{className:"form-header",children:"Upload a game"}),Object(h.jsx)("div",{className:"notification-handling",children:Object(h.jsx)("div",{className:i?"success":"error",children:i||c})}),Object(h.jsx)(S,{type:"text",placeholder:"Title",ref:w}),Object(h.jsx)(S,{type:"file",placeholder:"Image",accept:"image/png",ref:R,onChange:function(e){var t=e.target.files[0];s(""),l(""),y(t),t.name.includes(".png")||(R.current.value="",s("Image is not the correct format."))}}),Object(h.jsx)(_,{placeholder:"Description",ref:k}),Object(h.jsx)(S,{type:"text",placeholder:"Price",ref:C}),Object(h.jsx)(S,{type:"text",placeholder:"Developer",ref:I}),Object(h.jsx)(g,{disabled:O,onClick:function(e){return P.apply(this,arguments)},id:"upload-btn",value:O?Object(h.jsx)("span",{children:"Uploading..."}):Object(h.jsx)("span",{children:"Upload"})})]})}),Object(h.jsx)("div",{className:"upload-guidelines",children:Object(h.jsx)("img",{src:E,alt:"instructions"})})]})};var q=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(l.a,{children:Object(h.jsx)(v,{children:Object(h.jsxs)(i.a,{value:p,children:[Object(h.jsx)(o.c,{children:Object(h.jsx)(y,{})}),Object(h.jsx)(o.a,{exact:!0,path:"/",component:C}),Object(h.jsx)(o.a,{path:"/login",component:I}),Object(h.jsx)(o.a,{path:"/register",component:U}),Object(h.jsx)(o.a,{exact:!0,path:"/games",component:F}),Object(h.jsx)(o.a,{path:"/dashboard",component:T}),Object(h.jsx)(o.a,{path:"/upload",component:M})]})})})})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,60)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root")),A()}},[[57,1,2]]]);
//# sourceMappingURL=main.91f9234e.chunk.js.map