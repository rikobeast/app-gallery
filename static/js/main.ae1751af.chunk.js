(this["webpackJsonpgame-gallery-app"]=this["webpackJsonpgame-gallery-app"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),a=n(25),r=n.n(a),i=(n(35),n(36),n(30)),l=n(5),o=n(6),d=n(1),j=n.n(d),u=n(4),b=n(3),p=(n(38),n(29)),h=Object(p.a)("https://mlrgblouczagbxdupdkp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjk5ODg2OSwiZXhwIjoxOTQ4NTc0ODY5fQ.1vL5_Pa8YUX-b1MFCPFdmbkDs6wco8xZOYB54XKHT4E"),O=n(0),m=s.a.createContext();function x(){return Object(c.useContext)(m)}var f=function(e){var t=e.children,n=Object(c.useState)(),s=Object(b.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)(!0),l=Object(b.a)(i,2),o=l[0],d=l[1];Object(c.useEffect)((function(){var e,t=h.auth.session();r(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null),d(!1);var n=h.auth.onAuthStateChange(function(){var e=Object(u.a)(j.a.mark((function e(t,n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(null!==(c=null===n||void 0===n?void 0:n.user)&&void 0!==c?c:null),d(!1);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c=n.data;return function(){null===c||void 0===c||c.unsubscribe()}}),[]);var p={signUp:function(e){return h.auth.signUp(e)},signIn:function(e){return h.auth.signIn(e)},signOut:function(){return h.auth.signOut()},user:a};return Object(O.jsx)(m.Provider,{value:p,children:!o&&t})},v=n(17);var g=function(){var e=x(),t=e.user,n=e.signOut,s=Object(c.useState)(!1),a=Object(b.a)(s,2),r=a[0],i=a[1],d=Object(c.useState)(!0),p=Object(b.a)(d,2),h=p[0],m=p[1],f=Object(o.f)(),g={color:"white",width:"40",height:"40"};function N(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:f.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!h);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){i(!!t)}),[t]),Object(O.jsx)(o.c,{children:Object(O.jsxs)("div",{className:"navigation",children:[Object(O.jsx)("div",{className:"logo",children:Object(O.jsx)(l.b,{id:"logo",to:"/app-gallery",children:"Logo"})}),Object(O.jsx)("div",{className:"web-nav",children:r?Object(O.jsxs)("div",{className:"nav-links",children:[Object(O.jsx)(l.b,{id:"option",to:"/games",children:"Games"}),Object(O.jsx)(l.b,{id:"option",to:"/discussions",children:"Discussions"}),Object(O.jsx)(l.b,{id:"option",to:"/upload",children:"Upload"}),Object(O.jsx)(l.b,{id:"option",to:"/dashboard",children:"Account"})]}):Object(O.jsxs)("div",{className:"nav-links",children:[Object(O.jsx)(l.b,{id:"option",to:"/games",children:"Games"}),Object(O.jsx)(l.b,{id:"option",to:"/discussions",children:"Discussions"}),Object(O.jsx)(l.b,{id:"option",to:"/register",children:"Sign up"})]})}),r?Object(O.jsx)("div",{className:"btn-container",children:Object(O.jsx)(l.b,{id:"logout-btn",to:"/login",onClick:N,children:"Log out"})}):Object(O.jsx)("div",{className:"btn-container",children:Object(O.jsx)(l.b,{id:"login-btn",to:"/login",children:"Log in"})}),Object(O.jsx)("div",{className:"mobile-nav",children:Object(O.jsx)("div",{className:"hamburger-menu",onClick:function(){return w.apply(this,arguments)},children:h?Object(O.jsx)(v.b,{style:g}):Object(O.jsx)(v.a,{style:g})})}),Object(O.jsx)("div",{className:h?"nav-menu":"nav-menu active",children:r?Object(O.jsxs)("div",{className:"menu",children:[Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/games",children:"Games"}),Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/discussions",children:"Discussions"}),Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/upload",children:"Upload"}),Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/dashboard",children:"Account"}),Object(O.jsx)(l.b,{onClick:function(){N(),k()},id:"logout-btn-m",to:"/login",children:"Log out"})]}):Object(O.jsxs)("div",{className:"menu",children:[Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/games",children:"Games"}),Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/discussions",children:"Discussions"}),Object(O.jsx)(l.b,{onClick:k,id:"m-option",to:"/register",children:"Sign up"}),Object(O.jsx)(l.b,{onClick:k,id:"login-btn-m",to:"/login",children:"Log in"})]})})]})})};n(48);var N=function(){return Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("div",{className:"page-header",children:[Object(O.jsxs)("h2",{className:"welcome-msg",children:["Welcome to ",Object(O.jsx)("span",{id:"app-name",children:"App Gallery!"})]}),Object(O.jsx)("span",{className:"description",children:"If you are a game-dev enthusiast, this is the place for you to promote your games!"})]})})};n(22);var y=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(b.a)(a,2),i=r[0],d=r[1],p=Object(c.useRef)(),h=Object(c.useRef)(),m=x().signIn,f=Object(o.f)();function v(){return v=Object(u.a)(j.a.mark((function e(t){var n,c,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=p.current.value,c=h.current.value,s(!0),d(""),e.next=7,m({email:n,password:c});case 7:a=e.sent,(r=a.error)?d(r.message):f.push("/app-gallery"),s(!1);case 11:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(O.jsx)("div",{className:"login-page",children:Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("h2",{id:"heading",children:"Log in"}),Object(O.jsx)("div",{className:"error",children:i}),Object(O.jsxs)("form",{className:"login-form",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(O.jsx)("input",{type:"email",className:"username",placeholder:"Email",ref:p,required:!0}),Object(O.jsx)("input",{type:"password",className:"password",placeholder:"Password",ref:h,required:!0}),Object(O.jsx)("button",{id:"auth-button",disabled:n,type:"submit",children:n?Object(O.jsx)("span",{children:"Loading..."}):Object(O.jsx)("span",{children:"Log in"})}),Object(O.jsx)(l.b,{to:"/register",id:"reg-redirect",children:"Don't have an account? Register here."})]})]})})};var w=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(b.a)(a,2),i=r[0],d=r[1],p=Object(c.useRef)(),h=Object(c.useRef)(),m=Object(c.useRef)(),f=Object(o.f)(),v=x().signUp;function g(){return g=Object(u.a)(j.a.mark((function e(t){var n,c,a,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=p.current.value,c=h.current.value,a=m.current.value,c===a){e.next=6;break}return e.abrupt("return",s("Passwords do not match."));case 6:return d(!0),s(""),e.next=10,v({email:n,password:c});case 10:r=e.sent,(i=r.error)?s(i.message):f.push("/app-gallery"),d(!1);case 14:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return Object(O.jsx)("div",{className:"register-page",children:Object(O.jsxs)("div",{className:"register-container",children:[Object(O.jsx)("h2",{id:"heading",children:"Create an account"}),Object(O.jsxs)("form",{className:"register-form",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(O.jsx)("div",{className:"error",children:n}),Object(O.jsx)("input",{type:"email",className:"email",placeholder:"Email",ref:p,required:!0}),Object(O.jsx)("input",{type:"password",className:"password",placeholder:"Password",ref:h,required:!0}),Object(O.jsx)("input",{type:"password",className:"password-confirm",placeholder:"Confirm password",ref:m,required:!0}),Object(O.jsx)("button",{id:"auth-button",disabled:i,type:"submit",children:i?Object(O.jsx)("span",{children:"Loading..."}):Object(O.jsx)("span",{children:"Sign in"})}),Object(O.jsx)(l.b,{to:"/login",id:"reg-redirect",children:"Already have an account? Log in."})]})]})})};n(23);var k=function(e){return Object(O.jsx)("div",{className:"card",children:Object(O.jsxs)("div",{className:"card-info",children:[Object(O.jsx)("h3",{id:"card-title",children:e.title}),Object(O.jsx)("small",{id:"card-description",children:e.description}),Object(O.jsx)("p",{id:"card-item-price",children:e.price}),Object(O.jsx)("p",{id:"card-item-developer",children:e.developer}),Object(O.jsx)("img",{src:"".concat(e.URL),alt:""})]})},e.id)};var C=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1];function o(){return(o=Object(u.a)(j.a.mark((function e(){var t,n,c,a,r,i,o,d,u,b,p,m,x,f,v,g,N,y,w,C,S,R,I,L,U,D;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.from("games").select();case 2:return t=e.sent,n=t.data,e.next=6,h.from("games").select("title");case 6:return c=e.sent,a=c.data,e.next=10,h.from("games").select("description");case 10:return r=e.sent,i=r.data,e.next=14,h.from("games").select("price");case 14:return o=e.sent,d=o.data,e.next=18,h.from("games").select("image_url");case 18:return u=e.sent,b=u.data,e.next=22,h.from("games").select("developer");case 22:if(p=e.sent,m=p.data,x=[],f=[],v=[],g=[],N=[],y=[],0===n.length)l("Sorry... There aren't any games yet.");else{for(w=0;w<n.length;w++)C=x[w],x.push(C);for(S in a)f.push(a[S]);for(R in i)v.push(i[R]);for(I in d)g.push(d[I]);for(L in m)N.push(m[L]);for(U in b)y.push(b[U]);D=x.map((function(e,t){return Object(O.jsx)(k,{URL:y[t].image_url,title:f[t].title,description:v[t].description,price:"".concat(g[t].price,"$"),developer:N[t].developer},t)})),s(D)}case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){n||function(){o.apply(this,arguments)}()})),Object(O.jsx)("div",{className:"game-display-page",children:Object(O.jsx)("div",{className:i?"content-error":"content-page",children:i||n})})};n(24);var S=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1],o=Object(c.useRef)(),d=Object(c.useRef)(),p=Object(c.useRef)(),m=Object(c.useRef)(),f=x().user;function v(){return v=Object(u.a)(j.a.mark((function e(){var t,n,c,a,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.current.value,n=d.current.value,c=p.current.value,a=m.current.value,s(""),l(),e.next=8,h.from("profiles").upsert({id:null===f||void 0===f?void 0:f.id,username:t,first_name:n,last_name:c,website:a});case 8:r=e.sent,(i=r.error)?(l(""),s(i.message)):(s(""),l("Changes saved successfully."));case 11:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(O.jsxs)("div",{className:"dashboard-content",children:[Object(O.jsx)("div",{className:"notification-handling",children:Object(O.jsx)("div",{className:i?"success":"error",children:i||n})}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("label",{children:"General"})}),Object(O.jsxs)("div",{className:"sub-header",children:[Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"Username"}),Object(O.jsx)("input",{type:"text",id:"username",ref:o})]}),Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"First name"}),Object(O.jsx)("input",{type:"text",id:"fname",ref:d})]}),Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"Last name"}),Object(O.jsx)("input",{type:"text",id:"lname",ref:p})]}),Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"Website"}),Object(O.jsx)("input",{type:"text",id:"website",ref:m})]})]})]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("label",{children:"Security"})}),Object(O.jsxs)("div",{className:"sub-header",children:[Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{type:"password",id:"password"})]}),Object(O.jsxs)("div",{className:"sub-header-content",children:[Object(O.jsx)("label",{children:"Confirm new password"}),Object(O.jsx)("input",{type:"password",id:"c-password"})]})]})]}),Object(O.jsx)("div",{className:"button-container",children:Object(O.jsx)("button",{onClick:function(){return v.apply(this,arguments)},id:"save-btn",children:"Save"})})]})};var R=function(){return Object(O.jsxs)("div",{className:"account-page",children:[Object(O.jsxs)("div",{className:"profile-container",children:[Object(O.jsx)("div",{className:"avatar-container",children:Object(O.jsx)("div",{className:"avatar"})}),Object(O.jsx)("div",{className:"user-info",children:Object(O.jsx)("div",{className:"names",children:Object(O.jsx)("p",{children:"Test Test"})})})]}),Object(O.jsx)(S,{})]})};n(49);var I=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(b.a)(a,2),i=r[0],l=r[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),p=d[0],m=d[1],f=Object(c.useRef)(),v=Object(c.useRef)(),g=Object(c.useRef)(),N=Object(c.useRef)(),y=x().user,w={url:""};function k(){return(k=Object(u.a)(j.a.mark((function e(t){var n,c,s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,h.storage.from("card-images").upload("images/".concat(n.name),n);case 3:c=e.sent,c.data,c.error,s=h.storage.from("card-images").getPublicUrl("images/".concat(n.name)),a=s.publicURL,w.url=a;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return C=Object(u.a)(j.a.mark((function e(t){var n,c,a,r,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.current.value,c=v.current.value,a=g.current.value,r=N.current.value,t.preventDefault(),m(!0),s(""),e.next=9,h.from("games").upsert({uploaded_by:null===y||void 0===y?void 0:y.id,image_url:w.url,title:n,description:c,price:a,developer:r});case 9:i=e.sent,(o=i.error)?s(o.message):(l("Game was uploaded successfully!"),m(!1));case 12:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}return Object(O.jsxs)("div",{className:"page",children:[Object(O.jsx)("div",{className:"upload-container",children:Object(O.jsxs)("form",{className:"upload-form",children:[Object(O.jsx)("h1",{id:"header",children:"Upload a game"}),Object(O.jsx)("div",{className:"notification-handling",children:Object(O.jsx)("div",{className:i?"success":"error",children:i||n})}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Game title"}),Object(O.jsx)("input",{type:"text",id:"title",ref:f,required:!0})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{htmlFor:"image",children:"Display image"}),Object(O.jsx)("input",{type:"file",id:"image",onChange:function(e){return k.apply(this,arguments)},required:!0})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{htmlFor:"description",children:"Game description"}),Object(O.jsx)("textarea",{type:"text",id:"description",ref:v,required:!0})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{htmlFor:"price",children:"Game Price"}),Object(O.jsx)("input",{type:"text",id:"price",ref:g,required:!0})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{htmlFor:"developer",children:"Developer"}),Object(O.jsx)("input",{type:"text",id:"developer",ref:N,required:!0})]}),Object(O.jsx)("button",{disabled:p,onClick:function(e){return C.apply(this,arguments)},id:"upload-btn",children:p?Object(O.jsx)("span",{children:"Uploading..."}):Object(O.jsx)("span",{children:"Upload"})})]})}),Object(O.jsx)("div",{className:"upload-guidelines"})]})};var L=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(l.a,{children:Object(O.jsx)(f,{children:Object(O.jsxs)(i.a,{value:h,children:[Object(O.jsx)(g,{}),Object(O.jsx)(o.a,{exact:!0,path:"/app-gallery",component:N}),Object(O.jsx)(o.a,{path:"/login",component:y}),Object(O.jsx)(o.a,{path:"/register",component:w}),Object(O.jsx)(o.a,{path:"/games",component:C}),Object(O.jsx)(o.a,{path:"/dashboard",component:R}),Object(O.jsx)(o.a,{path:"/upload",component:I})]})})})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root")),U()}},[[50,1,2]]]);
//# sourceMappingURL=main.ae1751af.chunk.js.map